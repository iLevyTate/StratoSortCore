# StratoSort Installer Assets

This folder contains branding assets for the Windows NSIS installer and the macOS DMG.

## Image Assets

| File | Dimensions | Purpose |
|------|-----------|---------|
| `welcome.png` | 164x314 px | Left sidebar on Welcome/Finish pages (NSIS) |
| `finish.png` | 164x314 px | Left sidebar on Uninstall pages (NSIS) |
| `header.png` | 150x57 px | Header banner on all pages (NSIS) |
| `dmg-background.png` | 540x380 px | macOS DMG background |

## DMG Layout

The DMG background is generated by `scripts/generate-icons.js` (`generateDmgBackground`).

- 72x72 logo centered horizontally at the top (~y=40)
- "StratoSort Core" label below the logo (~y=138)
- Clean lower area for the app icon (x=130, y=240) and Applications alias (x=410, y=240)
- Background color: #F5F5F7

Regenerate with `npm run generate:assets`.

## NSIS Configuration

The NSIS installer is configured via:

1. **electron-builder.json** - Main build configuration
   - `nsis.include` points to `build/installer-themed.nsh`
   - Icons, shortcuts, and installation options

2. **build/installer-themed.nsh** - NSIS customization script
   - Welcome/Finish page text
   - Image references
   - Custom install/uninstall hooks
   - Abort warning dialogs

## Features

The installer includes:
- Custom branded images on all pages
- Welcome page with app description
- Directory selection with custom text
- Finish page with "Launch now" checkbox
- Start Menu shortcuts (StratoSort folder)
- Desktop shortcut (optional)
- First-run marker file for AI setup prompt
- Clean uninstall with optional app data removal

## Building

```bash
npm run dist:win    # Windows NSIS + Portable
npm run dist:mac    # macOS DMG + ZIP
```

## Notes

- Keep file names exactly as listed
- Files live under `assets/installer/` because `electron-builder.json` sets `buildResources` to `assets`
- PNG images are automatically converted to BMP format by electron-builder (NSIS only)
- The `BUILD_RESOURCES_DIR` variable in NSH files points to the `assets` folder

